

<ion-content>


<!-- Sheet Modal
  [backdropDismiss]="false"
  -->
  <ion-modal
  [isOpen]="true"
  [breakpoints]="[0.3, 0.6, 1]"
  [initialBreakpoint]="0.3"
  [backdropBreakpoint]="0.7"
  backdropDismiss="false"


  >
  <ng-template>

    <ion-header>
<ion-toolbar>
        <ion-title size="large">Home</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="goProfile()"> My profile </ion-button>
          <ion-button (click)="logOut()">
            <ion-icon name="log-out"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
        <ion-searchbar (click)="addItEmpty()"
        show-cancel-button="focus"
        (ionCancel)="closeSearchBar()"
        placeholder="Recherche un item spÃ©cifique"
        [(ngModel)]="searchTerm"
        animated="true"
        ></ion-searchbar>
        <ion-button (click)="closeSearchBar()"> Annuler la recherche</ion-button>
      </ion-toolbar>

    </ion-header>

    <ion-content>





      <p>
        <button type="button"(click)="addItem()">Add all item </button>
      </p>
      <button type="button"(click)="filter()">filtre</button>
      <p>
        <button type="button"(click)="addSalepoint()">Add all addSalepoint </button>
      </p>
      <ion-button type="button"(click)="filterItems()">Filter items </ion-button>
      <ion-list>
        <ion-item *ngFor="let item of items| filter:searchTerm">
          <ion-label>{{item.name}}</ion-label>
          <ion-label>{{item.description}}</ion-label>
          <ion-label>{{item.price}} CHF </ion-label>
          <ion-thumbnail slot="start">
            <ion-img [src]="item.picture"></ion-img>
          </ion-thumbnail>
          <ion-button color="warning" (click)="detailItems(item)">Change item</ion-button>
          <!-- <ion-button color="danger" (click)="update()">Supprimmer l'item</ion-button>-->
          <ion-badge color="success">{{item.label}}</ion-badge>
        </ion-item>
      </ion-list>

      <ion-list>
        <ion-item *ngFor="let salepoint of salepoints">
          <ion-label>{{salepoint.address}}</ion-label>
          <ion-item-option (click)="openSalepoint(salepoint)">Salepoint detail </ion-item-option>
        </ion-item>

      </ion-list>




    </ion-content>
  </ng-template>
  </ion-modal>


    <div class="map"
    leaflet
    [leafletOptions]="mapOptions"
    [leafletLayers]="mapMarkers"
    (leafletMapReady)="onMapReady($event)">
  </div>







</ion-content>
