<ion-content>


  <!-- Sheet Modal
  [backdropDismiss]="false"
  -->
  <ion-modal [isOpen]="true"
  [breakpoints]="[0.15, 0.5, 1]"
  [initialBreakpoint]="0.5"
  [backdropBreakpoint]="0.5"
    backdropDismiss="false">
    <ng-template>

      <ion-header collapse="condense">
        <ion-toolbar>
          <ion-title size="large">Home</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="goProfile()">
              <ion-icon name="person-circle-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="logOut()">
              <ion-icon name="log-out"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>

      </ion-header>

      <ion-content fullscreen>

        <ion-toolbar>

          <ion-searchbar (click)="addItEmpty()" show-cancel-button="focus" (ionCancel)="closeSearchBar()"
            placeholder="Recherche un item spÃ©cifique" [(ngModel)]="searchTerm" animated="true"></ion-searchbar>
          <!-- <ion-button slot="end" (click)="closeSearchBar()"> Annuler </ion-button> -->
        </ion-toolbar>
        <div *ngIf="listItemBool">
        <form #Form="ngForm" (ngSubmit)="save()" >
          <ion-item>
            <label>Prix:</label>
            <ion-range min="1" max="200" step="1" dual-knobs="true"  pin ="true" color="secondary"  (ionChange) ="changeValue($event)"></ion-range>

          </ion-item>
          <ion-list>
            <ion-item *ngFor="let entry of types">
              <ion-label>{{entry.val}}</ion-label>
              <ion-checkbox (ionChange) ="changeValueCheckbox($event)" slot="end" [(ngModel)]="entry.isChecked"  [ngModelOptions]="{standalone: true}"></ion-checkbox>
            </ion-item>
          </ion-list>
          <ion-button type="submit" xpand="block">Appliquer les filtres</ion-button>
        </form>
      </div>



        <ion-list>
          <ion-item *ngFor="let item of items| filter:searchTerm">
            <ion-label>{{item.name}}</ion-label>
            <ion-label>{{item.description}}</ion-label>
            <ion-label>{{item.price}} CHF </ion-label>
            <ion-thumbnail slot="start">
              <ion-img [src]="item.picture"></ion-img>
            </ion-thumbnail>
            <ion-button color="warning" (click)="locateItem(item)">Locate item</ion-button>
            <!-- <ion-button color="danger" (click)="update()">Supprimmer l'item</ion-button>-->
            <ion-badge color="success">{{item.label}}</ion-badge>
          </ion-item>
        </ion-list>

        <ion-list>
          <ion-item *ngFor="let salepoint of salepoints">
            <ion-label>{{salepoint.address}}</ion-label>
            <ion-item-option (click)="openSalepoint(salepoint)">Salepoint detail </ion-item-option>
          </ion-item>

        </ion-list>




      </ion-content>
    </ng-template>
  </ion-modal>


  <div class="map" leaflet [leafletOptions]="mapOptions" [leafletLayers]="mapMarkers"
    (leafletMapReady)="onMapReady($event)">
  </div>







</ion-content>
